<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ماتريكس START مع محتوى الفيديو</title>
<style>
  /* ستايل عام */
  html, body {
    margin: 0; padding: 0; height: 100%;
    background: black;
    overflow: hidden;
    font-family: 'Courier New', Courier, monospace;
    color: #0f0;
  }

  /* كانفاس الماتريكس */
  #matrixCanvas {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: black;
    z-index: 1;
    display: block;
  }

  /* زر START بالحروف عمودياً */
  #startButton {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    flex-direction: column;
    gap: 10px;
    cursor: pointer;
    user-select: none;
    z-index: 10;
    font-size: 80px;
    font-weight: bold;
    text-align: center;
    letter-spacing: 20px;
    color: #0f0;
    text-shadow:
      0 0 10px #0f0,
      0 0 20px #0f0,
      0 0 30px #0f0,
      0 0 40px #0f0;
  }

  #startButton span:nth-child(odd) {
    color: #0f0;
    text-shadow:
      0 0 10px #0f0,
      0 0 20px #0f0,
      0 0 30px #0f0,
      0 0 40px #0f0;
  }

  #startButton span:nth-child(even) {
    color: #f00;
    text-shadow:
      0 0 10px #f00,
      0 0 20px #f00,
      0 0 30px #f00,
      0 0 40px #f00;
  }

  #startButton:hover {
    filter: brightness(1.5);
  }

  /* القسم الثاني: صفحة الفيديو والمحتوى - مخفي أولاً */
  #mainContent {
    display: none;
    position: fixed;
    top:0; left:0;
    width: 100%; height: 100%;
    background: black;
    color: white;
    z-index: 20;
    overflow-y: auto;
    padding: 20px;
    box-sizing: border-box;
  }

  /* فيديو */
  #video {
    width: 100%;
    max-width: 800px;
    display: block;
    margin: 0 auto 20px auto;
  }

  /* الصورة الشخصية */
  #profilePic {
    display: block;
    margin: 0 auto 20px auto;
    max-width: 200px;
    border-radius: 50%;
    border: 3px solid #0f0;
  }

  /* أزرار التواصل */
  #buttons {
    text-align: center;
    margin-top: 20px;
  }

  #buttons a {
    display: inline-block;
    margin: 0 15px;
    padding: 12px 25px;
    background: #0f0;
    color: black;
    font-weight: bold;
    text-decoration: none;
    border-radius: 10px;
    box-shadow: 0 0 10px #0f0;
    transition: background-color 0.3s ease;
  }

  #buttons a:hover {
    background-color: #a0ffa0;
  }
</style>
</head>
<body>

<!-- كانفاس الماتريكس -->
<canvas id="matrixCanvas"></canvas>

<!-- زر START (الحروف العمودية) -->
<div id="startButton" role="button" tabindex="0" aria-label="ابدأ">
  <span>S</span>
  <span>T</span>
  <span>A</span>
  <span>R</span>
  <span>T</span>
</div>

<!-- المحتوى الثاني (فيديو، صورة، أزرار) -->
<div id="mainContent" aria-hidden="true">
  <video id="video" controls autoplay>
    <source src="your-video.mp4" type="video/mp4" />
    المتصفح لا يدعم عرض الفيديو.
  </video>
  <img id="profilePic" src="your-photo.jpg" alt="صورة شخصية" />
  <div id="buttons">
    <a href="https://www.tiktok.com/@yourusername" target="_blank" rel="noopener noreferrer" aria-label="تيك توك">TikTok</a>
    <a href="https://www.facebook.com/yourusername" target="_blank" rel="noopener noreferrer" aria-label="فيسبوك">Facebook</a>
  </div>
</div>

<script>
  // إعداد كانفاس ماتريكس
  const canvas = document.getElementById('matrixCanvas');
  const ctx = canvas.getContext('2d');
  let width = window.innerWidth;
  let height = window.innerHeight;
  canvas.width = width;
  canvas.height = height;

  const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*+-=';
  const fontSize = 18;
  const columns = Math.floor(width / fontSize);
  const drops = [];
  for(let i = 0; i < columns; i++) {
    drops[i] = Math.random() * -1000;
  }

  function drawMatrix() {
    ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
    ctx.fillRect(0, 0, width, height);
    ctx.font = fontSize + 'px Courier New';

    for(let i = 0; i < columns; i++) {
      const text = letters.charAt(Math.floor(Math.random() * letters.length));
      const x = i * fontSize;
      const y = drops[i] * fontSize;

      ctx.fillStyle = (i % 2 === 0) ? '#0f0' : '#f00';
      ctx.fillText(text, x, y);

      if(y > height && Math.random() > 0.975) {
        drops[i] = 0;
      }
      drops[i]++;
    }
  }

  function animateMatrix() {
    drawMatrix();
    requestAnimationFrame(animateMatrix);
  }
  animateMatrix();

  // سقوط الحروف START عمودياً في المنتصف
  const startButton = document.getElementById('startButton');
  const lettersArray = ['S', 'T', 'A', 'R', 'T'];
  const lineHeight = 90; 
  const centerX = window.innerWidth / 2;
  const centerY = window.innerHeight / 2;

  const lettersPos = lettersArray.map(() => -150);

  function dropLetters() {
    let allStopped = true;
    for(let i = 0; i < lettersArray.length; i++) {
      const targetY = centerY - ((lettersArray.length - 1) / 2 * lineHeight) + (i * lineHeight);
      if(lettersPos[i] < targetY) {
        lettersPos[i] += 6;
        if(lettersPos[i] > targetY) lettersPos[i] = targetY;
        allStopped = false;
      }
    }
    // نرسم الحروف على الـ canvas (لأن زر الـ START حقيقي، لن نرسم الحروف هناك)
    // لذلك فقط نرسم هذه الحروف فوق زر START بواسطة CSS, ليس مطلوب رسمها هنا.
    return allStopped;
  }

  // لكن هنا نرسم فقط تأثير سقوط الحروف على الـ canvas لجعلها تتحرك وتظهر متزامنة مع الزر.
  // أو ببساطة نخلي الـ startButton يتحرك مع هذا التأثير.
  // لكن أسهل حل: لا نرسم على الكانفاس سقوط الحروف لأن الحروف ظاهرين بالـ div.

  // بدلاً من ذلك سنحرك الحروف داخل الـ div مباشرة:

  function animateDropLetters() {
    let finished = true;
    for(let i = 0; i < lettersArray.length; i++) {
      const span = startButton.children[i];
      const targetY = ((lettersArray.length - 1) / 2) * lineHeight;
      if(lettersPos[i] < 0) {
        lettersPos[i] += 6;
        if(lettersPos[i] > 0) lettersPos[i] = 0;
        finished = false;
      }
      // نحرك كل حرف للأعلى حسب موضعه (بالسالب لجعله ينزل من فوق)
      span.style.transform = `translateY(${lettersPos[i]}px)`;
    }
    if(!finished) {
      requestAnimationFrame(animateDropLetters);
    } else {
      // ممكن تفعيل الزر هنا إذا كان معطل (لكن ليس هنا)
    }
  }

  // نجعل الحروف تبدأ من فوق الشاشة (سالب 150) وتنزل إلى مكانها الطبيعي (0)
  for(let i = 0; i < lettersArray.length; i++) {
    lettersPos[i] = -150 - (i * 30);
  }

  animateDropLetters();

  // عند الضغط على زر START
  startButton.addEventListener('click', () => {
    // إخفاء كانفاس الماتريكس وزر START
    canvas.style.display = 'none';
    startButton.style.display = 'none';

    // عرض المحتوى الثاني (الفيديو، الصورة، الأزرار)
    const mainContent = document.getElementById('mainContent');
    mainContent.style.display = 'block';
    mainContent.setAttribute('aria-hidden', 'false');

    // تشغيل الفيديو
    const video = document.getElementById('video');
    video.play();
  });

  // دعم لوحة المفاتيح
  startButton.addEventListener('keydown', (e) => {
    if(e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      startButton.click();
    }
  });

  // تحديث حجم كانفاس الماتريكس عند تغيير حجم النافذة
  window.addEventListener('resize', () => {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
  });
</script>

</body>
</html>
